# AI简历初筛系统 - 使用说明

## 📖 快速开始

### 1. 启动后端服务

```bash
cd "5.界面/条件较为简单+多行表"
./start.sh
```

或者手动启动：

```bash
python backend.py
```

### 2. 打开前端界面

在浏览器中打开 `index.html` 文件

### 3. 上传文件并开始筛选

1. 点击"选择简历文件"，上传 `（现RPA小工具流程）简历导入多行表.xlsx`
2. 点击"选择岗位需求文件"，上传 `条件要求较简单的部分岗位岗位要求-模拟数据.xlsx`
3. 点击"开始处理"按钮
4. 等待处理完成（会显示加载动画）
5. 查看筛选结果

## 🔄 工作流程

```
1. 前端上传两个 Excel 文件
   ↓
2. backend.py 接收文件
   ↓
3. 调用 detect_merged_cells_with_accuracy.py 解析简历文件
   → 生成简历 JSON 数据
   ↓
4. 调用 detect_merged_cells_with_accuracy_position_adjust.py 解析岗位文件
   → 生成岗位 JSON 数据（含规整后字段）
   ↓
5. 直接调用 7.LLM_resume_filter/core/screener.py 进行筛选
   → 使用真实的 LLM 进行智能匹配
   ↓
6. 返回筛选结果给前端展示
   → 包含详细的筛选条件和判断依据
```

## 📊 筛选结果说明

每份简历的筛选结果包含：

- **序号**：简历编号
- **姓名**：候选人姓名
- **关键画像**：学历、院校、年龄、现职务等关键信息
- **应聘岗位**：候选人申请的岗位
- **AI初筛结果**：拟通过 / 拟淘汰
- **淘汰原因**：如果淘汰，列出未通过的筛选条件
- **筛选条件详情**：每个筛选条件的详细结果
  - 筛选条件名称
  - 是否通过
  - 判断方法（规则 / LLM）
  - 原因说明
  - 筛选详情

## 🎯 筛选条件

系统会根据岗位要求，对每份简历进行以下筛选：

### 规则筛选
1. **年龄要求**：检查候选人年龄是否符合岗位要求
2. **学历要求**：检查学历层次和院校类型（985/211/双一流）
3. **工作年限**：检查系统内工作时长
4. **政治面貌**：检查是否符合岗位要求
5. **职称要求**：检查职称等级
6. **绩效要求**：检查近年绩效表现

### LLM 智能筛选
1. **专业匹配**：使用 LLM 判断专业是否符合岗位要求
2. **工作经历匹配**：使用 LLM 分析工作经历是否符合要求

## 💡 功能特性

### 前端功能
- ✅ 文件上传（支持 .xlsx 格式）
- ✅ 实时处理进度显示
- ✅ 结果列表展示
- ✅ 多条件筛选（岗位、状态、关键词）
- ✅ 分页显示
- ✅ 结果导出（JSON 格式）
- ✅ 批量操作

### 后端功能
- ✅ Excel 自动解析（处理合并单元格）
- ✅ 真实 LLM 智能筛选
- ✅ 并发处理多个岗位
- ✅ 详细的筛选日志
- ✅ 结果自动保存

## 🔧 技术架构

### 前端
- HTML + CSS + JavaScript
- 原生 JavaScript（无框架依赖）
- Fetch API 进行 HTTP 请求

### 后端
- FastAPI（Python Web 框架）
- openpyxl（Excel 处理）
- asyncio（异步并发）
- LLM 筛选引擎（来自 7.LLM_resume_filter）

## 📝 注意事项

1. **文件格式**：确保上传的是 .xlsx 格式的 Excel 文件
2. **文件内容**：确保 Excel 文件包含必要的数据字段
3. **处理时间**：处理时间取决于简历数量和岗位数量，请耐心等待
4. **LLM 服务**：系统会自动加载 LLM 模型，首次启动可能需要较长时间
5. **结果保存**：筛选结果会自动保存到 `简历初筛结果.json` 文件

## 🐛 常见问题

### 问题：后端服务启动失败

**解决方案**：
1. 检查 Python 版本（需要 Python 3.8+）
2. 安装依赖：`pip install -r requirements.txt`
3. 检查端口 8000 是否被占用

### 问题：文件解析失败

**解决方案**：
1. 确保 Excel 文件格式正确
2. 检查文件是否包含必要的数据
3. 查看后端控制台的错误信息

### 问题：LLM 筛选失败

**解决方案**：
1. 检查 LLM 模块依赖是否安装完整
2. 查看 `7.LLM_resume_filter` 目录下的配置
3. 检查日志文件获取详细错误信息

## 📄 输出文件

系统会生成以下文件：

1. **简历初筛结果.json**：完整的筛选结果
2. **logs/backend_service.log**：后端服务日志（如果配置了日志）

## 🔗 相关文档

- [README.md](./README.md) - 完整的系统文档
- [7.LLM_resume_filter/README.md](../../7.LLM_resume_filter/README.md) - LLM 筛选模块文档
